# \# 尚医通项目问题查询

请各位大佬把遇到的资源问题记录奉献出来，一个接一个序号记录。大家注意好格式。谢谢啦

**请自觉按照序号排序，并且按照以下格式提问或作答：**

**## 提问格式举例：**

\[格式为标题一 \] （序号）1.（添加出错所在视频集数如P75) 问题描述shiqu

\> 示例：1.P18 xxxxx问题描述xxxxx

**作答格式：**

\[格式为正文 \] ANS（使用醒目字体） 找到的问题源和解决方法。

#   1.p18无法引入result类怎么解决啊？

> ANS 
>
> 注意Result类的导入，建议不要只用idea自动导入的包，因为要导入自己的类。不是其他包。添加如下即可解决：
>
> **import** com.atguigu.yygh.common.result.Result;
>
> 最佳：在service的pom里面引入了common_util依赖就好了

# 2.部分加了\@CrossOdgin还是无法解决跨域问题

> ANS 添加CorsConfig.Java配置类

~~~
\@Configuration

public class CorsConfig {

\@Bean

public CorsFilter corsFilter() {

final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();

final CorsConfiguration config = new CorsConfiguration();

config.setAllowCredentials(true); //支持cookie 跨域

config.setAllowedOrigins(Arrays.asList(\"\*\"));

config.setAllowedHeaders(Arrays.asList(\"\*\"));

config.setAllowedMethods(Arrays.asList(\"\*\"));

config.setMaxAge(300L);//设置时间有效

source.registerCorsConfiguration(\"/\*\*\", config);

return new CorsFilter(source);

}

}
~~~

> 按照图示的方法，还是没有解决跨域问题，而且根根据了老师和网上的各种方法还是没能解决。
>

# 3、如何申请阿里云短信服务，签名申请不通过

有大佬尝试腾讯云。可以尝试容联云通讯

可以改成发到邮箱验证，或者省略发送这一步，理解流程即可

用容联云，亲测有效，不懂加Q 1456992

8，看到就回，具体流程我写到CSDN上了，可以参考一下：[[https://blog.csdn.net/weixin_44061521/article/details/120072340]{.underline}](https://blog.csdn.net/weixin_44061521/article/details/120072340)

容联云官方有文档，照着官方文档写就行了。先用文档上的代码测试一下，再改改

\- 或者阿里云的云市场搜短信，有很多第三方商家提供api调用，照着文档复制就行，首单优惠一分钱差不多20条，10块钱200条，测试用够了，签名和模板用人家提供的测试专用的就可以了。

# 4，p75最后添加数据异常 manage报 Connection refused: connect有没有人知道

ANS 先启动service_hosp这个微服务 再添加JSON就可以了

# 5. p78显示异常 

-\> Exception processing template \"hospital/index\": An error happened during template parsing (template: \"class path resource \[templates/hospital/index.html\]\")

忘了怎么解决了，应该是数据不对 有个字段显示有问题

# 6 p75医院设置显示异常 

-\> \[THYMELEAF\]\[http-nio-9998-exec-2\] Exception processing template \"hospitalSet/index\": An error happened during template parsing (template: \"class path resource \[templates/hospitalSet/index.html\]\")

解决:试试先在yygh_manage里面插入一条数据：

要求id是1，api_url是医院设置后台系统（就是8201那个）的访问路径(http://localhost:8201)，然后hoscode、sign从后台系统的hospital_set表中选一条记录填上

解决:在hospital_set表中添加数据即可解决

# 7 p82有引入nacos 项目启动不起来

Connected to the target VM, address: \'

.0.0.1:52096\', transport: \'socket\'

Disconnected from the target VM, address: \'127.0.0.1:52096\', transport: \'socket\'

Process finished with exit code 0

这个问题怎么解决呀

解决：一般是因为boot版本和nacos不对应导致的 换成对应的版本即可

![image-20220111114856283](./picture/image-20220111114856283.png)

# 8 P80排班表刷新无数据

，数据库中有，debug显示 Page 1 of 0 containing UNKNOWN instances 。

2021-10-31

检查一下ScheduleServiceImpl里findPageSchedule里

schedule.setStatus(1);

有没有设置成0。如果设置成0前端无法读出数据。

##yegong 21/04/02

未解决bug1：设置好微信登录后，再用手机登录会查询多个，tooManResults报错，登陆失败。

未解决bug2：点击挂号后，再点后退继续点击挂号可以挂号，但该医生剩余数量直接为0.

# 9 p68中mongodb的端口号要如何打开啊？

我记得就用默认的把

我提的问题 我之后直接重装了mongodb 用压缩包形式装的，没用docker

默认就是打开的

# 10 P49医院设置列表问题，

前端访问不到后端，打开医院设置列表只有光秃秃的六个字，没有办法进行正常的查询，f12控制台也没输出东西。

注意 路径，还有把nignx,nacos，数据库哪些都打开，应该能行的，可以把报错发出来。

我出现了类似的问题，f12控制台显示ERR_SSL_PROTOCOL_ERROR错误，idea日志显示Invalid character found in method name. HTTP method names must be tokens。解决方案：前端config文件夹里的dev.env.js的BASE_API: https改为http，然后重新启动前端，问题解决。

# 11. P75 打开医院模拟系统 医院设置 一直显示添加医院凑得

![image-20220111115037147](../../blob/master/picture/image-20220111115037147.png)

ans 把原来的表删了，重新弄一个id key与视频一样的记录应该能行

api_url是医院设置后台系统（就是8201那个）的访问路径(http://localhost:8201)，

ans：在yygh_manage那个表中添加一条数据就好

# 12. p105 整合nuxt前端环境报错

这个是找不到request文件吧

# 13.整体问题：对于拷贝前端代码到vscode中报错的 把代码重新编辑下 报错的地方重新写

# 14.opening socket启动项目报以下错误

com.mongodb.MongoSocketOpenException: Exception opening socket

![image-20220111115120601](../../blob/master/picture/image-20220111115120601.png)

解决：把远程的docker mongo给重新启动一下试试

# 15.P75整合医院模拟系统时，提示404，找不到以下几个资源

![image-20220111115228880](../../blob/master/picture/image-20220111115228880.png)

ans : 不影响使用

# 16.配置Nginx反向代理报 502 Bad GateWay错误

报错日志如下

百度查询的 setsebool -

httpd_can_network_connect 1 关闭selinux 没用

![image-20220111115306967](../../blob/master/picture/image-20220111115306967.png)

ans： 我也报了，我把所有的服务启动起来就好了

# 17.P103整合NUXT前端页面，复制代码出现如下错误

我在eslintrc.js中加了这段，就没报错了

# 18.linux怎么连上外网

ans:设置网络为nat模式，然后设置linux的网络为静态的设置（细节百度）

# 19. p76，添加失败，后台空指针异常 

![image-20220111115450381](../../blob/master/picture/image-20220111115450381.png)

ans1：

HospitalSet hospitalSet = baseMapper.selectOne(wrapper);

这里是 查询没有值 出现的; hospitalSet对象为null

\@Autowired一次只能注入一个对象，可能是你只写了一个\@Autowired，导致HospitalSetService没有成功注入，无法运行里面的方法，才会报出空指针异常w1

回答2：

# 20 p96 前端排班规则查询不到 报错Cannot read property \'workDate\' of undefined

ans：这是因为导入mongodb时选择的reservernum和availablenum是string，修改为int32就可以现实数据了（navicat导入时的问题）

# 21.p69 测试mongodb时报错

# 22.p115 运行JwtHelper方法时

，Exception in thread \"main\" java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter，原因是javax.xml.bind.jar包在jdk8以上版本被删除，我用的是jdk9，需要手动导入javax.xml.bind.jar。

或者在pom文件中引入依赖

\<dependency>

\<groupId>javax.xml.bind\</groupId>

\<artifactId>jaxb-api\</artifactId>

\<version>2.3.0\</version>

\</dependency>

# 23.p75保存出现数据错误，



![image-20220111115554866](../../blob/master/picture/image-20220111115554866.png)

![image-20220111115618014](../../blob/master/picture/image-20220111115618014.png)

然后报错 EL1007E: Property or field \'hosname\' cannot be found on null

![image-20220111115642904](../../blob/master/picture/image-20220111115642904.png)

 

解决：manager项目中数据存储出现了问题，建议重新复制一下老师的manger项目

\-\-\--你是来搞笑的吧，manage项目都是复制来的，错在哪里

.\>\>\>\> 看报错啊，，应该要在data 里添加workData数据

![image-20220111115953928](../../blob/master/picture/image-20220111115953928.png)

# 24.你们的微信扫码和微信支·

都是自己开通的微信开放平台，花了300块吗？

![image-20220111120030148](../../blob/master/picture/image-20220111120030148.png)

无，尝试一下支付宝沙箱

# 25.为神魔我这个baseMapper只调用mysql的数据库，不调用MongoDB的数据库

![image-20220111120130195](../../blob/master/picture/image-20220111120130195.png)

![image-20220111120154057](../../blob/master/picture/image-20220111120154057.png)

ans:

mp不是只能调 mysql呀 根本就不能掉mongoDB,换一个掉

不是有提供一个

\@Override

public Schedule getById(String id) {

Schedule schedule = scheduleRepository.findById(id).get();

return this.packageSchedule(schedule);

}

这个方法去调用mongoDB就可以了

这个问题怎么解决啊！！！

楼上不是解决了 查mongodb

这个只能调mysql啊，注意听课，有两种办法实现mongoDb数据库的操作。一、MongoTemplate二、MongoRepository 在教案------day07.mongodb.doc有详细的

# 25 订单创建的时候产生的排班id

回到manager项目中查不到啊，是不是我搞笑了

ans:manager中很多操纵数据库的方法参数是写死了的不是动态传递的。或者自己改下manager接收自己想要的数据

# 26.Order模块启动时报错,

只有这个模块一直启动不成功，其他模块都没事，就搞不懂了。

The web application \[ROOT\] appears to have started a thread named \[logback-1\] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:

sun.misc.Unsafe.park(Native Method)

The web application \[ROOT\] appears to have started a thread named \[com.alibaba.nacos.naming.client.listener\] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:

sun.misc.Unsafe.park(Native Method)

Th2e web application \[ROOT\] appears to have started a thread named \[com.alibaba.nacos.naming.failover\] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:

sun.misc.Unsafe.park(Native Method)

The web application \[ROOT\] appears to have started a thread named \[com.alibaba.nacos.naming.push.receiver\] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:

java.net.DualStackPlainDatagramSocketImpl.socketReceiveOrPeekData(Native Method)

org.springframework.beans.factory.UnsatisfiedDependencyException:

\'orderApiController\': Unsatisfied dependency expressed through field \'orderService\'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name \'orderServiceImpl\': Unsatisfied dependency expressed through field \'baseMapper\'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type \'com.lxy.medical.order.mapper.OrderMapper\' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {\@org.springframework.beans.factory.annotation.Autowired(required=true)}

**答：很简单 这个是找不到ordermapper，我是不小心把包名写成了com.atguigu.order**

**mapperscan的却是 \"com.atguigu.yygh.order.mapper\" 改下就好了**

# 27. 预约只能预约一个科室，

预约其他科室就报错数据异常，应该是医院接口那边的问题，但不知道怎么修改了。

ans: 项目给的数据库文件数据库只有1个科室的排班。其次是模拟系统manager保存订单的方法是写死了的。如果要预约其他科室，得自己改一改医院那个模拟系统。debug一下就知道了。

![image-20220111120245964](../../blob/master/picture/image-20220111120245964.png)

# 28.短信服务申请不了，怎么解决

写死吧，假装发完验证码了。。。。。。

直接System.out把验证码打印出来就好了，把控制台当成你的手机\...

可以使用容联云，具体我写在CSDN上了，可以参考一下

[[https://blog.csdn.net/weixin_44061521/article/details/120072340]{.underline}](https://blog.csdn.net/weixin_44061521/article/details/120072340)

可以使用腾讯云 注册很简单的

# 29.p75问题

医院管理和排班列表会出现上述问题？

ans: 服务没有加载出来。

# 30.p160调试无法成功，有个坑

要把yygh_order中的order_info表的hos_schedule_id字段名，改成schedule_id

# 27.一个小问题 nuxt 页面

TypeError

renderContext.renderResourceHints is not a function

ans：是gateway 没有启动没有找到数据，也就是项目 没有给数据， nuxt 显示这个页面

老师再视频中的baseURl:默认没加端口，就是80端口，所以在后端的gateway服务的配置中，端口一定要用80端口，别乱改。

接楼上，我把pages/index.vue中asyncData那段整体注释到就可以

\>\>\>\> 谢谢

\>\>\>\>转载b站用户**[[wkp_listening]](https://space.bilibili.com/344608979) **

被这个坑搞了一天：注意以下几点，

1.复制老师代码的时候用office word 打开

2.在utils中的request.js 中拼接路径的时候一定要 注意 不要拼错

3.因为这是页面加载的时候就要连接服务，所以后端的服务一定要打开。

4.老师再视频中的baseURl:默认没加端口，就是80端口，所以在后端的gateway服务的配置中，端口一定要用80端口，别乱改。我之前就是把端口改了，后来就一直找不出来错。

5.另外，有人或，其中异步的代码需要改成同步的（我没改，也没错），

async asyncData({ params, error }) {

let res = await hospApi.getPageList(1, 10, null);

return {

list: res.data.content,

pages: res.data.totalPages,

};

-   },

![image-20220111120408691](../../blob/master/picture/image-20220111120408691.png)

# 31.p75 java.net.ConnectException: Connection refused: connect 

怎么解决啊

ans: 签名异常，建议按老师的把签名改一下。

# 32.P157的订单得到的response显示201

![image-20220111120450579](../../blob/master/picture/image-20220111120450579.png)

![image-20220111120508992](../../blob/master/picture/image-20220111120508992.png)

这里跳转去localhost:9998/order/submitOrder就是返回不了数据，哭了，debug跳不到hospital-manage的那个方法去请求路径时9998

![image-20220111120526532](../../blob/master/picture/image-20220111120526532.png)

# 32. 科室上传速度很慢有没有什么方法解决一下？

它每添加一个数据需要对数据库访问一次，得到数据库的KEY,如果加个

缓存会不会好点？

p75 一直报这个 有遇到的吗？ ApiServiceImpl的103行HttpRequestHelper.getSign(paramMap, this.getSignKey())改成MD5.encrypt(this.getSignKey())，也没用 请大佬赐教

你要重构一下，你代码改了但是字节码没变，我就是因为这原因排错排了2-3个小时

解决了 谢谢哈 一起加油！

# 33.P139------p96 swagger测试

可以拿到排班规则 ，但是前端拿不到值 ，前端请求已经成功发送， 但是就是拿不到数据。 前端传的值后端查询不出数据，但是swagger传的值又可以查询出来。请大佬解惑

![image-20220111120639617](../../blob/master/picture/image-20220111120639617.png)

1.  code: 200, message: \"成功\", data: {total: 0, baseMap: {hosname: \"贵港人民医院\"}, bookingScheduleRuleList: \[\]},...}

    a.  code: 200

    b.  data: {total: 0, baseMap: {hosname: \"贵港人民医院\"}, bookingScheduleRuleList: \[\]}

        i.  baseMap: {hosname: \"贵港人民医院\"}
        
        ii. bookingScheduleRuleList: \[\]
        
        iii. total: 0

    c.  message: \"成功\"

    d.  ok: true

只能拿到baseMap ；

bookingScheduleRuleList，total 都是空的

ans : 如果swagger测试能正常返回正确的数据，但是用前端却返回不了数据，说明你的后端代码是正确的，你需要检查你的前端代码是否敲错，特别检查你的前端代码给后端发送请求时路径是否正确、以及给后端传的参数是否正确无误。

# 34. ##\# p153 不显示排班信息

![image-20220111120731875](../../blob/master/picture/image-20220111120731875.png)

![image-20220111120752379](../../blob/master/picture/image-20220111120752379.png)

##\# ans:注意跳转路径要更改，老是给的代码hosp 是hospital后台的scheduleServiceImpl 中代码从老师源代码中赋值，就可以了

![image-20220111120834249](../../blob/master/picture/image-20220111120834249.png)

![image-20220111120858556](../../blob/master/picture/image-20220111120858556.png)

# 34.p157-160 

太毒了，这个我也不会

我去，刚刚csdn查了一下，需要改这个页面的两处变成1L改完就好了（搜索尚医通遇到的问题，里面有个160集的坑的解答)

他是根据医院科室ID（hosScheduleID）查询科室排班信息，mongodb中有这个属性，我们查询mongodb时可以将这个属性添加到订单表中，再将这个属性传给医院管理系统

# 34. mongodb生成的id

在这里转换的时候报错咋办？求大佬解惑

# 35.请问为什么要用MongoDB来保存医院、科室和预约信息， 

为什么不用MySql，没看出来用MongoDB的优势在哪？

ans 这个问题不好回答。

就当练练monogdb吧·

不知道，然后写在简历上就是坑

支持高并发性能比mysql强，哈哈哈

# 35. p139 上传证件照

一直没有反应 一直报404 请大佬指点一下

解决：阿里云申请自己的OSS，换了配置文件的相关内容即可

请求地址时网关的端口号

# 36.p16启动报错

com.mongodb.MongoSocketOpenException: Exception opening socket



# 37.P144 当前地址的省市不加载，

看看后台代码service-cmn下的findChildData()方法，之前老师打错了打成findChlidData,课件也是findChlidData，直接粘应该是没问题的。如果改成findChildData()，后端+前端js也要一起改掉。

![image-20220111121137069](../../blob/master/picture/image-20220111121137069.png)

![image-20220111121157847](../../blob/master/picture/image-20220111121157847.png)

看看你发送的请求

# 38.问题：P148地址不显示

解决：show.vue搜索\<el-table-column prop=\"fullAddress\" label=\"地址\"/>

把fullAddress改成param.fullAddress，因为封装的时候是装在对象的param参数的

# 39 p49 直接用写好的前端代码，

![image-20220111121238561](../../blob/master/picture/image-20220111121238561.png)

没自己动手去写，nginx也配置了，VUE的BASE_API: \'\"http://localhost:9001\"\',但是不显示数据，后端添加了\@CrossOrigin 注解，猜测是vue跨域问题没解决，怎么解决呢？

解决：day10加入网关后就可以正常显示

跨域问题

# 40.P77显示医院信息那里，

后台数据查到了。但是前端thymeleaf渲染出错，导致医院的信息显示不出来怎么办？救救。。

![image-20220111121316105](../../blob/master/picture/image-20220111121316105.png)

解决：数据库对应字段为空，填充进去就好

看下controller中有没有把查询出来的hospital返回了

![image-20220111121348138](../../blob/master/picture/image-20220111121348138.png)

# 41.gateway没起来

![image-20220111121405053](../../blob/master/picture/image-20220111121405053.png)

ans 解决：改Gateway端口或者干掉占用80端口的进程

最好不要改端口80，因为后边好像会有影响；占用80端口的进程大概率是之前启动的nginx，在cmd中用 tasklist /fi \"imagename eq nginx.exe\" 查看一下nginx的状态，如果是，用 taskkill /fi \"imagename eq nginx.exe\" /f 关闭即可

# 42.getaway没起作用，一直显示这个，

:9528/#/hospSet/list:1 Access to XMLHttpRequest at \'http://localhost/admin/hosp/hospitalSet/findPageHospSet/1/3\' from origin \'http://localhost:9528\' has been blocked by CORS policy: Response to preflight request doesn\'t pass access control check: No \'Access-Control-Allow-Origin\' header is present on the requested resource.

求救。。。

![image-20220111121442906](../../blob/master/picture/image-20220111121442906.png)

![image-20220111121502160](../../blob/master/picture/image-20220111121502160.png)

同41 80端口被占用了 ,关掉Nginx

# d43.ServiceOrderApplication模块启动时

一直报这个错误。救救孩子吧

Caused by: java.sql.SQLSyntaxErrorException: Unknown column \'schedule_id\' in 'field list\'

![image-20220111121608839](../../blob/master/picture/image-20220111121608839.png)

解决：把model中的order_info里面的字段跟数据库对应的名字更改一下

# 44.整合Nuxt的时候出现这个问题

![image-20220111121639750](../../blob/master/picture/image-20220111121639750.png)

解决方法：把yygh-site\\api\\hosp中的hospital中的getPageList方法的url改为url: \`\${api_name}/findHospList/\${page}/\${limit}\`；show的url改为url: \`\${api_name}/findHospDetail/\${hoscode}\`

# 45.JWT一直不成功

![image-20220111121700109](../../blob/master/picture/image-20220111121700109.png)

解决：添加pom依赖

\<dependency>

\<groupId>javax.xml.bind\</groupId>

\<artifactId>jaxb-api\</artifactId>

\<version>2.3.0\</version>

\</dependency>

\<dependency>

\<groupId>com.sun.xml.bind\</groupId>

\<artifactId>jaxb-impl\</artifactId>

\<version>2.3.0\</version>

\</dependency>

\<dependency>

\<groupId>com.sun.xml.bind\</groupId>

\<artifactId>jaxb-core\</artifactId>

\<version>2.3.0\</version>

\</dependency>

![](media/image53.png){width="6.3in" height="1.256304680664917in"}![](media/image54.jpeg){width="4.927083333333333in" height="2.5104166666666665in"}

#  45.啥问题,如图

![](media/image55.png){width="6.3in" height="1.486405293088364in"}

ans: base64 图片资源没有配置好

# 46 p75集最好修改一下这里，

还有 把这个类的sign加密全部换成这个，不要时间戳

哥哥说明白点 有点不懂

# 47 p76 连接超时异常,

或者尝试重启mongoDB，还有重启docker,docker不稳定造成

![](media/image56.png){width="6.3in" height="1.5721916010498687in"}

ans解决：

ans: 还有看看你的服务器的防火墙，有没有开放27017的端口

# 49 报错

![](media/image57.png){width="6.3in" height="1.624935476815398in"}

# 50. p103用户前台，一直启动不了，

已经配置了,还是出现

问题

ans:

注意yygh-site\\api\\hosp中的hosp.js中的方法中的url，要保证请求路径和后台一致

# 51.P107 下拉搜索框问题，修改

![](media/image58.png){width="5.395833333333333in" height="2.4583333333333335in"}

这个参照pages/index.vue中的搜索框代码修改下就行了，老师的代码少了一些东西。一个是data的return（）中增加 hosname:\"\",

另一个是method（）中增加

    //在输入框输入值，弹出下拉框，显示相关内容

    querySearchAsync(queryString, cb) {

      this.searchObj = \[\];

      if (queryString == \"\") return;

      hospApi.getByHosname(queryString).then((response) => {

        for (let i = 0, len = response.data.length; i \< len; i++) {

          response.data\[i\].value = response.data\[i\].

;

        }

        cb(response.data);

      });

    },

如果还不行，请检查下后端响应请求的路径与前端发送请求的路径是否相等

# 52. p110 ，大家有遇到这个问题吗

解决：同53，检查api路径的方法正确性，修改正确重启服务

# 53. P90 show.css导入后，

main.js引入了文件，仍然没有效果，有咩有大佬知道怎么回事？

ans : 重启试试。。

有人解决了吗,不是重启的问题是不是什么版本有冲突什么的,还是引入有什么问题,研究了很久还是不行

![](media/image59.png){width="6.3in" height="3.9302744969378827in"}

# 54.p162提交挂号订单，为啥显示签名错误·![](media/image60.png){width="6.3in" height="2.9262292213473318in"}

解决：修改两个地方试试

![](media/image61.png){width="6.3in" height="1.4836176727909012in"}

![](media/image62.png){width="6.3in" height="2.248215223097113in"}

# 55. p170 取消预约退款失败，报SSL错误

Caused byjavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate):

at sun.security.ssl.HandshakeContext.\<init>(HandshakeContext.java:171) \~\[?:1.8.0_292\]

at sun.security.ssl.ClientHandshakeContext.\<init>(ClientHandshakeContext.java:98) \~\[?:1.8.0_292\]

。。。。

解决方法：

![](media/image63.png){width="6.3in" height="2.4461712598425196in"}![](media/image64.png){width="6.3in" height="3.376405293088364in"}

# 56.p106前端整合2，后端swagger测试数据正确，前端用的源码，报：SyntaxError: JSON.parse: unexpected character at line 1 column 1 of the JSON data。![](media/image65.png){width="6.3in" height="5.117361111111111in"}

![](media/image66.png){width="6.3in" height="3.7615857392825895in"}

![](media/image67.png){width="5.052083333333333in" height="2.4583333333333335in"}

![](media/image68.png){width="5.364583333333333in" height="1.0520833333333333in"}

已解决，我是伞兵，url路径用的单引。。（好好学习给你点赞）

# 57.前端整合后会出现warn，而且每个页面加载的都有![](media/image69.png){width="6.3in" height="0.8588484251968503in"}

ans: warn 可以不用管

# 58.P75 json数据添加不进去，显示失败（已在yygh_manage添加过数据，前面的方法已经试过，希望能![](media/image70.png){width="6.3in" height="5.071178915135608in"}![](media/image71.png){width="6.3in" height="1.5060936132983378in"}得到新的解决方法）

具体异常信息：

IncorrectResultSizeDataAccessException: Query { \"\$java\" : Query: { \"hoscode\" : \"1000_0\"}, Fields: {}, Sort: {} } returned non unique result.8

![](media/image72.png){width="6.3in" height="1.7078904199475065in"}

![](media/image73.png){width="6.3in" height="0.63in"}

ans : 看报错好像是返回值不唯一，要不把以前的删除试试/??

# 59 微信回调路径 \-\--转载b站大佬 

兄弟们，联系了尚硅谷的小谷姐姐， 联系老师给出的反馈

因为微信平台后台配置做了修改，把微信的回调路径修改了，所以之前的回调路径不能使用了

按照如下方式修改，就可以使用，其他不需要修改：

★ 第一 修改项目启动端口号为 8160

★ 第二步 把回调地址改为 wx.open.redirect_url=http://localhost:8160/api/ucenter/wx/callback

★★ 说明：目前微信登录回调可以直接请求localhost地址了，所以修改了回调配置就是http://localhost:8160

以上方法2022.1.7测试已经失效，有哪位大佬知道怎么解决吗？

·![](media/image74.jpeg){width="6.3in" height="1.481981627296588in"}

![](media/image75.jpeg){width="6.3in" height="0.9105468066491689in"}

**我后端getLoginParm接口是有返回**http://localhost:8160/api/ucenter/wx/callback并且urlencode的**，但是在qrconnect这里不知道回调地址那里为何是undefind**

![](media/image76.png){width="6.3in" height="3.8389260717410325in"}

各位老铁请注意，这是我的前端代码

![](media/image77.png){width="6.3in" height="6.6786056430446195in"}

这是老师的前端代码，redirectUri明显是错的，这个地方纠结我好多天，我说怎么改了还是不行，原来是这里的问题

![](media/image78.png){width="6.3in" height="2.9974212598425196in"}终于解决问题，关键还是前端不给力啊，我是java后端

![](media/image79.png){width="6.3in" height="2.554452099737533in"}

所以还是得细心检查一下自己的后端代码返回字段以及前端取字段的字段名是否正确

# 60 P75 插入了一条数据，全部改为MD5加密后显示数据异常，并且控制台报这个异常，希望能得到大佬的解决，感谢！

![](media/image80.png){width="2.375in" height="1.9375in"}

ans : 这个报错不太清楚，很多人是因为哪个资料的签名和数据库里的sign 值不一样，后面哪一集老师也说过哪个签名方法有些是错的，要改一下，你仔细排查一下。。

ans：ApiServiceImpl的103行HttpRequestHelper.getSign(paramMap, this.getSignKey())改成MD5.encrypt(this.getSignKey())

and:我的情况和你一样，我的问题是ApiController的注解选用错了，用的\@Controller改成\@RestController就好了，还得注意自己yygh_manage数据库apiUrl的地址是否为

http://localhost:8201/，如果是的话请改为http://localhost:8201，不然还是会出现上述问题

# 61.p76签名校验失败

在hospital-manage的ApiServiceImpl中的saveHospital方法中，有一行需要修改，应改为paramMap.put(\"sign\",MD5.*encrypt*(this.getSignKey()));，

不然后台一直报签名错误！！！

还有！

yygh_hosp库的表hospital_set表是预约挂号平台的 医院信息库用来验医院的信息

yygh_manage库的表hospital_set表是医院的表上传信息调用时要按照约定的hoscode与预约挂号平台的hascode方可上传

资料中hospital.json是要通过程序要加到mongodb数据库中的，不是mysql

缺的表插入一条数据即可，yygh_manage的hospital_set表要与yygh_hosp的hospital_set表的hascode 和sign_key 字段一样，这样通过MD5加密后比对签名后相同才能添加成功

# 62.p65nginx照着配置还是不行

用windows的兄弟记得先关闭防火墙再启动nginx。如果之前已经开了nginx，就在cmd，用tasklist \| findstr \"nginx\" ，查看进程id ，再用 taskkill /F /PID 进程号 进行杀死。之后记得关防火墙，再开nginx。

用下面cmd 命令

nginx -s quit

taskkill /f /t /im nginx.exe

cmd

# 63 微信二维码redirect_uri错误，

ans 没有出现

扫描二维码，看一下前端的weixinLogin() 方法里的redirect_uri值，

redirect_uri: response.data.redirect_uri

这里redirect_uri要和response数据的redirect_uri一样，我这里word里名字不对，，所以报错。

ans2: 我是修改user服务的application.properties中的微信配置：这样二维码出来了

wx.open.redirect_url=http://localhost:8160/api/ucenter/wx/callback

ans3：上面两次修改都要做，uri那里weixinLogin() 方法里写成了response.data.redirectUri，要改成上面说的那个；

user服务配置那里，那个微信url用的是谷粒商城的，你得改成上面ans2那个才行

2021.10.10 亲测，上面的解决方案已经失效，还是同样的错误。可能没有好的解决方案了吧。

2021.10.23前端代码在给出的文档中也有错 把前端myheader中的

ircet_url改成redirect_uri: response.data.redirect_uri

2021\.

.04 前端代码按文档写成redirectUri![](media/image81.png){width="4.625in" height="0.5208333333333334in"},后端中将service_user的配置文件启动端口号改成8

![](media/image82.png){width="4.479166666666667in" height="0.7916666666666666in"},配置文件下的wx.open.redirect_url改成http://localhost:8160/api/ucenter/wx/callback![](media/image83.png){width="6.3in" height="0.26895122484689415in"},感谢这位老哥的评论![](media/image84.png){width="6.3in" height="1.6217224409448818in"}

# 64 p52 console.log(selection)有值，但idList就为空,传不到后台，删除不了

![](media/image85.png){width="6.3in" height="1.3449431321084864in"}我是for循环在获取multipleSelection的length的时候，忘记加this了,应该是这样的

# 65 p138-140 用户认证，取不到token????

![](media/image86.png){width="6.3in" height="1.4472965879265092in"}

该怎么解决？？？？![](media/image87.png){width="6.3in" height="2.2077712160979877in"}![](media/image88.png){width="6.3in" height="4.383771872265966in"}![](media/image89.png){width="6.3in" height="2.9580468066491687in"}

ans

我这里也是token获取不到，请求里面没有token是怎么回事呀？

# 66. p75医院接口模拟这里找不到这几个文件显示不出设置操作栏怎么解决有遇到这个问题的兄弟么

![](media/image90.png){width="6.3in" height="2.7058213035870518in"}

这个是你配置的数据库里面没有数据，你加一条数据就可以了![](media/image91.png){width="6.3in" height="0.9076837270341207in"}

![](media/image92.png){width="6.3in" height="2.021007217847769in"}

看不清报错，

试试修稿urI路径和hosp的路径和端口一致

# 67.p153预约功能前端页面整合那块，

为什么我数据表就改了时间那栏，不管用swagger模拟请求，还是前端页面，都显示无号，返回的是-1。而表里面是有好的。这里的数据要怎么改，不是只改时间就可以吗？

mongodb中的数据：

![](media/image93.png){width="6.3in" height="2.1360936132983377in"}

我改了mongodb的能用，可以重启模块一下嘛。再不行我也没办法了

同问，怎么解决的？？？？？？？？？？

**ANS Ferko33 更新于21/12/8 凌晨4点.**

**解决MongoDB 插入日期的时区问题**

要想查到数据库上对应的时间，你的查询时间就需要在数据库日期的基础上+8小时，因为向MongoDB是标准时区，向MongoDB插入数据时日期相关的数据，springData会自动帮我们自动转换时区，我们所在东八区，也就是会减去8小时。

我是这么解决的

测试时，数据库中的时间就不要修改时分秒了，修改日期就可以了，其实时分秒本来也没用，还很有可能出现日期跳位，

而且上下午已经有专用的字段区分

ScheduleServiceImpl.getBookableDatePage() 循环遍历添加日期这里，设置+8小时

![](media/image94.png){width="6.3in" height="2.817720909886264in"}

注意 ScheduleServiceImpl.getScheduleDetail() 查询排班详情这里也要+8小时，不然查不到

![](media/image95.png){width="6.3in" height="3.066159230096238in"}

以上的前提是，**你插入数据时已经做过日期校正了**，可以回想下，做hospital-manager这个模块时，数据库中的日期是否与json数据相对应，

如果是我这种 00小时，我已经做过日期数据校正了，日期正好与json文件里对应的就可以用

![](media/image96.png){width="6.3in" height="1.8666666666666667in"}

如果是插入后，后面显示16时的，多半是因为插入数据后springData自动转时区，减去8小时，日期应该是json文件数据中的前一天，由于此时+8小时可能会跳日期，建议插入数据校正日期后再按照我上面说的方法做，如果你不想校正插入日期，思路在这里了，自己琢磨怎么改一下吧。

**插入数据校正mongodb日期的方法**

ScheduleServiceImpl.save() 方法 在插入时+8小时，或者调用这个getMongoDate方法

![](media/image97.png){width="6.3in" height="3.6888998250218723in"}

ScheduleServiceImpl加入 getMongoDate() 这个方法，之前说的那些+8小时的，也可以换成这个方法，效果一样.

![](media/image98.png){width="6.3in" height="1.9158705161854768in"}

**之后，清空mongodb中的Schedule表，再启动 hospital-manager 这个医院模块，重新进行排班添加**

![](media/image99.png){width="4.75in" height="3.0in"}

**我这个方法有点笨，MongoDB也没有办法改时区，如果有更好更简单的方法记得B站私信我一下 Ferko33，谢谢各位！**

# 68.P106页面显示问题。

![](media/image100.png){width="6.3in" height="3.7357020997375328in"}

ans：这个问题先用swagger传数据给后端，查看数据是否正确返回，如果无法正确返回数据，则说明是后端问题。若是后端问题，需要查看后端报错信息以改错。

69、 P126 微信返回二维码接口测试空指针，有遇到这个问题的么

![](media/image101.png){width="6.3in" height="3.5642672790901138in"}

![](media/image102.png){width="6.3in" height="3.753685476815398in"}

encoder类是com.sun.deploy.net包下的

# 69.p6中自动添加时间处要设置id为自增 不然会报错

# 70. p131 save方法什么时候写的在哪写的啊

# 71.P15项目启动不报错，但是自动停止，启动不了

**删除没用pom后添加这个**

dependency>

\<groupId>org.springframework.boot\</groupId>

\<artifactId>spring-boot-starter-web\</artifactId>

\</dependency>

**75的医院管理页面一片空白什么都没有，idea报这个错**![](media/image103.png){width="6.3in" height="0.39867125984251967in"}![](media/image104.png){width="6.3in" height="0.6693744531933509in"}

![](media/image105.png){width="6.3in" height="1.368280839895013in"}![](media/image106.png){width="6.3in" height="0.5807808398950132in"}

已经自行解决，去前端的index.html页面将报错代码注释掉就行了

# 72.P75 缺mongoTemplate

一直报错Consider defining a bean named \'mongoTemplate\' in your configuration.

咋办？

![](media/image107.png){width="6.3in" height="2.3969520997375326in"}

明明老师让我们选择使用的是mongoRepository，不知道为啥这里一直说缺mongoTemplate，求助一下大佬们呜呜呜

![](media/image108.png){width="6.3in" height="0.34429461942257217in"}

我把启动项注释掉就可以运行了 不知道能不能帮到你

确实可以了，谢谢大佬！

牛啊大佬

# 73.P17Swagger在common文件下（已加入依赖的情况下）用不了，直接放service_hosp的config中，可以完成试验。

> /\* 我是把common模块下的两个子模块都删掉了。只使用common模块，swagger的配置类也写在了common模块下。
>
> ( 像老师那样，ComponentScan另一个模块下的子模块，好像扫不到，不知道如何解决 \*/

2021-10-20

我也遇到了相同的问题，后来排查后发现是组件扫描注解后的包名写的不完全导致的。

我之前的basePackages后只写到了\"com\"，后来改成\"com.yygh\"就可以运行了。

\@ComponentScan(basePackages = \"com.yygh\")

希望可以帮助到相同情况的人。

# 74.P97查询医院排班的详细为空，为什么呀？

ans 因为你数据库是逻辑删除状态is_deleted= 1 改成0保存一下就好 了

![](media/image109.png){width="6.3in" height="1.3978116797900262in"}

![](media/image110.png){width="6.3in" height="3.0559700349956254in"}

追问改成0了还是没有数据

# 75.后端得不到数据 一直报500错误 怎么回事阿？

# 76.医院logo显示不出来 为什么阿？

![](media/image111.png){width="6.3in" height="2.9482020997375327in"}

ans：看你的图片字符编码对不对

# 77.P88医院列表这边显示不出来一直在转圈咋整啊，求助大佬们

![](media/image112.png){width="6.3in" height="1.5356244531933507in"}

![](media/image113.png){width="4.75in" height="2.6666666666666665in"}

已经自己解决了，不要直接复制word里面代码，照着老师视频敲就行了，刚开始复制word里面代码有点问题

# 79.（待解决）医院设置列表突然没有分页还报错，之前都是可以分页的，好奇怪，求助大佬们帮我看看![](media/image114.png){width="6.3in" height="3.3616404199475065in"}

我在hospSet/list.vue里面明明没有定义Page变量或者方法，不知道咋报这个错，呜呜

![](media/image115.png){width="6.3in" height="1.963827646544182in"}

# 80.P75空指针异常,卡了好久,数据添加到了mongdb,但是页面是:

**idea里:**

**我一点一点排查发现是在httpon.getInputStream()处就出错了**

![](media/image116.png){width="6.3in" height="2.1459372265966756in"}

**真的搞了好久了还没找到原因,求求知道的大佬们和我说一下(已经换过MD5加密了,还是不行).**

**\--我也是这个错误 请问解决了吗**

**\--兄弟你service_hosp微服务启了没，启动就好了**

**\~\~解决了吗兄弟们\~\~**

**解决：数据库中的url地址后面跟的端口号要跟项目中service-hosp中的端口号要一样**

# 81.P93排班信息显示不出来，是跨域问题，可以加一个config类，如下图所示

package com.atguigu.yygh.hosp.config;

import org.springframework.context.annotation.Configuration;

import org.springframework.web.servlet.config.annotation.CorsRegistry;

import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

\@Configuration

public class CrosConfig implements WebMvcConfigurer {

\@Override

public void addCorsMappings(CorsRegistry registry) {

registry.addMapping(\"/\*\*\")

.allowedOrigins(\"\*\")

.allowedMethods(\"POST\", \"GET\", \"PUT\", \"OPTIONS\", \"DELETE\")

.allowCredentials(true)

.allowedHeaders(\"\*\")

.maxAge(3600);

}

}

# 82.P64添加RedisConfig配置文件后一直报错为什么

![](media/image117.png){width="6.3in" height="3.54375in"}![](media/image118.png){width="6.3in" height="3.582823709536308in"}

仔细检查一下是不是导包导错了

# 83.（已解决）P107下拉框显示不出来东西怎么![](media/image119.png){width="6.3in" height="3.54375in"}办，代码如下

关于v-model=\"hosname\"已经改过了，这个问题不知道怎么改，求助大佬们

解决方法：下拉框问题，检查一下前端index.vue中的querySearchAsync(queryString, cb) 方法hospApi.getByHosname与 hosp.js中getByHosname(hosname) 方法url: \`\${api_name}/findByHosname/\${hosname}\`以及后端 HospApiController类中findByHosname方法的\@GetMapping(findByHosname/{h![](media/image120.png){width="6.3in" height="2.52in"}osname})是否一致\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--此方法转载于B站用户：![](media/image121.png){width="6.3in" height="3.6563101487314085in"}梧桐820

已解决：确实！！！是Name的大小写差别，太感谢了！

![](media/image122.png){width="6.3in" height="3.54375in"}

# 84.p99 gateway启动失败 nginx也是关闭的 改81端口也报同样的错误

报错提示

2021-09-01 10:41:09.430 ERROR 33944 \-\-- \[ main\] o.s.boot.SpringApplication : Application run failed

org.springframework.context.ApplicationContextException: Unable to start reactive web server; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name \'nettyReactiveWebServerFactory\' defined in class path resource \[org/springframework/boot/autoconfigure/web/reactive/ReactiveWebServerFactoryConfiguration\$EmbeddedNetty.class\]: Unsatisfied dependency expressed through method \'nettyReactiveWebServerFactory\' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name \'reactorServerResourceFactory\' defined in class path resource \[org/springframework/boot/autoconfigure/web/reactive/ReactiveWebServerFactoryConfiguration\$EmbeddedNetty.class\]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate \[org.springframework.http.client.reactive.ReactorResourceFactory\]: Factory method \'reactorServerResourceFactory\' threw exception; nested exception is java.lang.NoSuchFieldError: DEFAULT_SHUTDOWN_QUIET_PERIOD

![](media/image123.png){width="6.3in" height="1.6734372265966755in"}

(ps:代码什么的完全一样 我启动发的资料代码没问题 我一启自己的代码就报错)

# 85.有没有大佬能出一个容联云的教程或者怎么跳过手机登录或者怎么跳过短信验证的过程，呜呜，小白真的不会9

可以看看[[https://blog.csdn.net/weixin_44061521/article/details/120072340?spm=1001.2014.3001.5501]{.underline}](https://blog.csdn.net/weixin_44061521/article/details/120072340?spm=1001.2014.3001.5501)

可以自己生成验证码，存储，再将登录信息中的Code和存储的Code比较，可以把控制台当作手机，生成验证码打印在控制台

# 86、P101 Nuxt搭建前端环境出现错误。

package.json和nuxt.config.js 这两个文件的按照文档改了。

执行 npm install 的时候出错，后面都启动不了了是怎么回事啊？

![](media/image124.png){width="6.3in" height="4.456096894138232in"}

# 87.（未解决）P139上传证件照一直前端显示loginEvent未定义，可是我用老师的代码，明明是有定义的呀

![](media/image125.png){width="6.3in" height="3.5455807086614173in"}

# 88.加了CrossOrigin注解之后还是提示跨域问题，自己加了跨域配置类之后提示404

![](media/image126.png){width="6.3in" height="3.7946653543307085in"}

求解

# 89 P75 医院管理页面500错误

![](media/image127.png){width="6.3in" height="2.9974212598425196in"}![](media/image128.png){width="6.3in" height="2.863636264216973in"}![](media/image129.png){width="6.3in" height="3.4453116797900263in"}

![](media/image130.png){width="6.3in" height="3.4453116797900263in"}

![](media/image131.png){width="6.3in" height="3.4453116797900263in"}

![](media/image132.png){width="6.3in" height="3.022030839895013in"}

![](media/image133.png){width="6.3in" height="2.9678904199475067in"}

解决方法

1.  数据库增加数据（具体查看视频评论）

2.  查看报错信息，我这个是显示页面没找到，下载了老师的资料看了一下，发现我的前端一些页面被当成病毒删了，把前端页面添加回来

![](media/image134.png){width="2.1875in" height="1.09375in"}

![](media/image135.png){width="1.9166666666666667in" height="0.7708333333333334in"}

（3）把前端页面很长的那一串删除

![](media/image136.png){width="6.3in" height="2.2152548118985127in"}

蓝色开始

![](media/image137.png){width="6.3in" height="2.21957239720035in"}

这里结束

3.  重启项目

# 90 pom文件中出现Plugin\'org.springframework.boot:spring-boot-maven-plugin:\' not found

![](media/image138.png){width="6.3in" height="3.4182305336832894in"}

加入使用springboot的版本号就可以解决

# 91求解P06无法实现自动填充，MP修改的时候数据库的值会变，可是自动填充时的update Time和createtime都不改变，是空值，可能的原因是什么呐？

"

# 92点击医院跳转详情页面无法显示图片等信息 ![](media/image139.png){width="6.3in" height="2.606023622047244in"}Cannot read property \'hoscode\' of undefined

将hospital.js里面的show 方法调用路径改为

url: \`\${api_name}/findHospDetail/\${hoscode}\`,

# 92 P103 照着文档写界面显示异常

可能是element-ui没导入正确 看看f12控制台报错信息

试试直接去谷粒商城找源码下载，修改正确的indxe.vue项目中的js调用函数名，直接运行基本没问题

# 93 确认挂号预约的时候 保存订单调用patientfeignclient 失败 

![](media/image140.png){width="6.3in" height="2.977734033245844in"}![](media/image141.png){width="6.3in" height="1.1863221784776903in"}

![](media/image142.png){width="6.3in" height="2.35996719160105in"}

![](media/image143.png){width="6.3in" height="3.345132327209099in"}

网关都添加了service-user远程调用模块 不知道哪里错了

有可能是nacos中的服务调用有延迟 更换为本地nacos后问题没有出现

# 94 确认挂号失败的 记得数据库修改

比如yygh_manage的schdule id设置为varchar order_info的schedule_id设置为varchar

最后修改OrderServiceImpl中的saveOrder中存订单表中设置排班表id为

orderInfo.setScheduleId(scheduleOrderVo.getHosScheduleId());

不然存入的排班表id为mongodb中的collection的document的hosschedule id值 manage系统中找不到对于的排班表id

![](media/image144.png){width="6.3in" height="6.390214348206475in"}![](media/image145.png){width="6.3in" height="1.6783584864391952in"}

# 95 取消预约退款失败 

![](media/image146.png){width="6.3in" height="2.2685772090988627in"}

微信调用退款接口post报空指针异常 不知怎么处理

# 96 P148 图片不显示的原因（已解决）

图片不显示的，打开阿里云oss控制台，查看图片的url是否和数据库中存的一致。不一致是因为我们设置的bucket权限为私有，图片资源默认继承bucket。设置为私有的话，有过期时间，url会和数据库中的不一致，数据库并没有后面很长一大段，更改数据库，数据库存不下的。所以我们手动将图片权限改成公共读。

# 97 P160 nacos是在阿里云服务器上的

疯狂空指针，可以来看一下我的博客，希望能给你找到bug的灵感

[[https://blog.csdn.net/qq_44769557/article/details/120394767]{.underline}](https://blog.csdn.net/qq_44769557/article/details/120394767)

![](media/image147.png){width="6.3in" height="1.4326017060367453in"}

# 98 P15这里爆红，然后ServiceHospApplication运行不出结果。

ServiceHospApplication运行后的报错信息![](media/image148.png){width="6.3in" height="0.4971084864391951in"}

好好配置数据库一下,建议核对一下依赖,对应的数据库版本

mysql版本8.0+的话jdbc驱动就要改成com.mysql.cj.jdbc.Driver

# 99这些爆红是什么问题呐？新手，希望回答的大![](media/image149.jpeg){width="6.3in" height="7.609808617672791in"}神能给点详细的指导,

依赖 要么maven刷新一下 要么在maven依赖库中把这些依赖删掉重新加载

# 100 微信登录首次绑定手机号后再次登录重复绑定手机号

原因：后端传到前端的openid = ""，前端接收后openid变为null

解决方案：myheader.vue修改if条件

![](media/image150.png){width="6.3in" height="2.783354111986002in"}

# 101 P98中mongoDB数据库与实际时间相差8小时该如何解决

![](media/image151.jpeg){width="5.895833333333333in" height="2.7916666666666665in"}![](media/image152.jpeg){width="4.84375in" height="0.8125in"}

如图，数据库中无28号的数据 界面显示是28号，根据弹幕提示是mongoDB数据库问题

# 102p49无法返回数据

swagger测试是成功的，但是页面返回的是error，求大佬帮帮忙

![](media/image153.png){width="6.3in" height="2.593827646544182in"}

![](media/image154.png){width="6.3in" height="2.3329680664916888in"}

求解答：

# 103求助：

{#进入容器

docker exec -it **mymongo** /bin/bash

运行这行代码后

Error response from daemon: Container 42464e00c956f055f5645d7095792876b3fe4d495c402d663f70cc8293febe7c is restarting, wait until the container is running

失败了

docker restart mymongo 也没用 应该怎么弄好阿

}

# 104 求助p142集视频获取所有就诊人信息为何会发两个请求？导致其中一个请求在后台会空指针异常：

![](media/image155.png){width="6.3in" height="3.5249289151356082in"}

ans:

试着将前端项目的

![](media/image156.png){width="4.96875in" height="5.135416666666667in"}

# 105 求大佬出部署项目的教程

有没有大佬会将项目部署到服务器上，视频的遗憾就是没有教部署，孩子没有部署过微服务的项

# 106(待解决) 点击用户登录页面底部出现登录页该怎么解决

![](media/image157.png){width="6.3in" height="2.554452099737533in"}

这个问题在那个弹框那里加一个if判断一下是否为true好似可以，我这里bug解决了 注：在el-dialog里面加

# 

# 107 p6自动填充 运行后出现错误 

org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.reflection.ReflectionException: Could not set property \'createTime\' of \'class com.atguigu.demomptest.entity.User\' with value \'Mon Oct 11 14:51:19 CST 2021\' Cause: java.lang.IllegalArgumentException: argument ![](media/image158.png){width="3.4479166666666665in" height="2.1354166666666665in"}type mismatch

原因是这里的Date类型是java.unit

# 108.第一次点击登陆注册按钮弹出框样式混乱

关闭后再次打开就好了，请问有大佬和我的情况一样的吗，有已经解决的吗

![](media/image159.png){width="6.3in" height="3.031874453193351in"}

页面登录框错位在myheader.vue里的\</el-dialog> 和最后一个 \</div>

之间添加个空的 \<div>\</div> 如下图![](media/image160.png){width="6.3in" height="0.6152340332458442in"}

![](media/image161.png){width="4.927083333333333in" height="2.4583333333333335in"}

**109、P100，已经配置了网关，controller层的跨越注解已经去掉了，但是还存在跨越问题，nginx早已经关闭，端口换了也没用，电脑重启过也一直没用**

![](media/image162.png){width="6.3in" height="3.3124212598425196in"}

![](media/image163.png){width="6.3in" height="3.3124212598425196in"}

![](media/image164.png){width="6.3in" height="3.3124212598425196in"}

**ans:可能是你没在网关启动类上加**\@EnableDiscoveryClient

**注册中心没扫描到**

# 110. p55修改医院信息的方法报错，后端接口已经加了\@CrossOrigin

,而且只有这一个方法报错，添加，查询都8

是正常的，请问有人知道怎么回事吗？

补充问题:点击修改按钮后出现两个问题:

①屏幕正上方出现network error

②控制台显示跨域问题,其他一切正常

![](media/image165.png){width="6.3in" height="1.1763276465441819in"}

解决: 发现是跟着老师将hospset.js中的医院设置id查询的url写错为url: \`/admin/hosp/hospitalSet/getHospitalSet/\${id}\`,//路径,正确的应该为url: \`/admin/hosp/hospitalSet/getHospSet/\${id}\`,//路径,标红部分要与后端HospitalSetController.java中的根据id获取医院设置id中的路径保持一致,修改后能正确查出

**p170** javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: validity check failed

**微信退款 安全证书不信任如何解决？？？**

# 111创建Maven项目后提示 maven project need to be import

![](media/image166.png){width="6.3in" height="1.3472298775153106in"}

选择第二个选项即可自动导入依赖

# 112.MySQL报错\"Host \' is not allowed to connect to this MySQL server\"

原因是：远程服务器不允许你的java程序访问它的数据库。

解决步骤：

1、打开mysql控制台，输入：use mysql;

2、输入：show tables;

![](media/image167.png){width="6.3in" height="4.168827646544182in"}3、输入：select host from user;

    user为root，host为localhost的话，说明mysql只允许本机连接

4、输入：update user set host =\'%\' where user =\'root\';

5、执行刷新权限，输入：flush privileges;

# 113. P45 引入依赖出错

[报错提示:]{.underline}

Can't find Python executable " python"， you can set the PYTHON env variable

[解决:]{.underline}

需要安装Python环境

cmd 打开以管理员身份运行命令提示符,输入:npm install \--global \--production windows-build-tools

安装完成后将Python安装目录添加到环境变量中

之后安装node -gyp:npm install \--global node-gyp

最后跟着视频下载依赖即可

# 114. p17老师给的swagger工具类复制进config包爆红

# 115. p17 swagger弹窗问题

![](media/image168.png){width="6.3in" height="3.218905293088364in"}

在启动类上加上\@enableswagger注解

# 116.p78启动springboot时报错LoggingFailureAnalysisReporter

原因：由于有些类你没有加上\@service，\@Repository注解，springboot找不到需要的bean，无法注入到容器中

解决：将需要注入的service层里的实现类都加上\@service注解

+-----------------------------------------------------------------------+
| 117.P77查询医院信息报错，有没有大佬解决的求解，2021-11-21             |
|                                                                       |
| 检查路径和对应的文件。看报错好像是没找到对应文件，检查下路径配置      |
+=======================================================================+
+-----------------------------------------------------------------------+

![](media/image169.png){width="6.3in" height="0.6851957567804025in"}

# 117.求助医院列表不显示数据

![](media/image170.png){width="6.3in" height="2.293593613298338in"}

输出了list集合 里面是空

![](media/image171.png){width="6.3in" height="1.9736712598425197in"}

后端 代码

![](media/image172.png){width="6.3in" height="2.879296806649169in"}

查询方法 查询出来的是空 集合遍历也没进去

问题是我不知道 到底是数据库有问题 还是前后端代码问题\...不知道从哪开始检查

P77已经修改hsopital-manage中的ApiServiceimpl中的gethospital方法中的paramMap.put(\"sign\", MD5.*encrypt*(this.getSignKey()));

但是现在还是曝300错误

![](media/image173.png){width="6.3in" height="1.9835148731408574in"}

已解决,视频老师的代码有问题换成给的文档里面的代码就好了

# 118.（求解）nacos依赖和流量控制依赖导不进去

![](media/image174.png){width="6.3in" height="2.6357917760279963in"}

看一下配置maven镜像没有

# 119.p160（求解）确定挂号模块 服务调度 地址没有问题 有时候方法可以进去 不报错 数据库也会存数据 但是大部分都是这种情况 

![](media/image175.png){width="6.3in" height="1.8457020997375329in"}

feign的超时时间设置长一些，百度下就可以了

**120.求助，阿里云短信服务那一块用的是阿里云市场第三方的api，怎么整合？**

# 121.关于P160的问题，我只遇到了这个小坑，我是这么解决的

**ANS** Ferko33

需在**OrderServiceImpl**类中

orderInfo 设置ScheduleId时，设置为医院自身的id，也就是数字的那个

![](media/image176.png){width="6.3in" height="3.3006233595800527in"}

同时，将 orderInfo 类的字段映射改为数据库中的字段名称，要与之相同

![](media/image177.png){width="4.822916666666667in" height="3.46875in"}

![](media/image178.png){width="6.3in" height="1.111454505686789in"}

之后就可以了。

对了，如果使用第三方API短信服务的，可以自定义一个特殊的验证码进行测试，因为没有短信模板，所以不用像老师那些封装很多层，很多参数，很简单。

# 122.关于P101提示Are you interested in participation 

第一次启动以后选择y，报错是node版本问题（使用版本是资料里的版本）。后面多次启动也没有Are you interested in participation 选择了，是不是选择n就好了，应该怎么操作就可以提示Are you interested in participation这个选择呢。麻烦各位大佬了

![](media/image179.png){width="6.3in" height="1.0582020997375328in"}

# 123.关于p88前端 二级联动时 点击市后不显示的bug解决

![](media/image180.png){width="4.125in" height="1.5729166666666667in"}

做出如下修改 强制页面渲染即可

感谢兄弟 ！！

# 124.P105前端 渲染报错 不知道问题在哪

这一段渲染注释了 就能进入静态页面 开开就直接报错

![](media/image181.png){width="6.3in" height="2.277228783902012in"}

前端报错

![](media/image182.png){width="6.3in" height="1.9412259405074366in"}

![](media/image183.png){width="6.3in" height="1.5208584864391952in"}

![](media/image184.png){width="6.3in" height="3.694212598425197in"}

解决：

先在浏览器检查下访问的网址有无数据，

检查request.js 中网关的url

// 创建axios实例

const service = axios.create({

    baseURL: \'http://localhost:88\',

    timeout: 15000 // 请求超时时间

})

留意视频中的hosptial服务的findHospList 方法里加了

List\<Hospital> content = hospitals.getContent();

int totalPages = hospitals.getTotalPages();

# 125.P75 医院管理添加功能一直返回201

ans：mysql数据库yygh_hosp的hospital_set表id为1的那条数据不能处于逻辑删除状态，即is_delete不能为1

![](media/image185.png){width="1.4270833333333333in" height="2.5in"}

# 126.P75添加报错（已解决）

Cannot autogenerate id of type java.lang.Integer for entity of type com.atguigu.yygh.model.hosp.Hospital!

解决：将BaseMongoEntity 中的 id 类型改为String

# 127.P160消息转换器出错 如何解决

Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message

Endpoint handler details:

Method \[public void com.atguigu.yygh.sms.receive.SmsReceiver.send(com.atguigu.yygh.vo.msm.MsmVo,org.springframework.amqp.core.Message,com.rabbitmq.client.Channel)\]

# 128.P90查询医院详情页面前端报错（已解决）

控制台报错：Error in render: \"TypeError: Cannot read property \'0\' of null\"

ans :解决：将上下两个table标签分别加上v-if=\"hospital!=null\"和v-if=\"bookingRule!=null\"

这是由于vue中存在异步调用，所以在vue的渲染机制中，异步数据先显示初始数据，再显示从后台带回的数据，所以当vue首先执行的时候，hospital和bookingRule里面根本就没有数据，所以前台才会报出Error in render: \"TypeError: Cannot read property \'0\' of null\"

# 129.P118登录页面渲染有问题

解决方法：

1.  页面登录框错位在myheader.vue里的 \</el-dialog> 和最后一个 \</div> 之间添加个空的 \<div>\</div>

（2）前端myheader.vue里的el-dialog组件显示有点问题,里面加上v-if=\"dialogUserFormVisible\"

130.P161

![](media/image186.png){width="6.3in" height="3.4010148731408574in"}

![](media/image187.png){width="6.3in" height="3.2681244531933507in"}

![](media/image188.png){width="6.3in" height="2.475579615048119in"}

这个问题怎么解决呢.?

ans 好像是说表不存在？ 检查一下表的名字？大小写？

# 130，p64求大佬解，一直爆红![](media/image189.png){width="6.3in" height="2.0in"}

![](media/image190.png){width="6.3in" height="1.279384295713036in"}

# 131.p45我吐了啊，npm run dev localhost拒绝连接，下面是报错，求求帮帮忙![](media/image191.png){width="6.3in" height="2.1150535870516185in"}

# 132.P100 出现这个错误

![](media/image192.png){width="6.260416666666667in" height="0.16666666666666666in"}

Access to XMLHttpRequest at \'http://localhost/admin/hosp/hospitalSet/findPageHospSet/1/3\' from origin \'http://localhost:9527\' has been blocked by CORS policy: The \'Access-Control-Allow-Origin\' header contains multiple values \'\*, http://localhost:9527\', but only one is allowed.

已拦截跨源请求：同源策略禁止读取位于 [[http://localhost/admin/hosp/hospitalSet/findPageHospSet/1/3]{.underline}](http://localhost/admin/hosp/hospitalSet/findPageHospSet/1/3) 的远程资源。（原因：不允许有多个 \'Access-Control-Allow-Origin\' CORS 头）。

# 133.p75关于签名验证错误

ANS:在service_hosp这个服务的ApiController的saveHosp方法中，老师视频中仅对数据库中的sign使用了MD5的加密模式，而在yygh_manage中针对sign的加密形式是和接口文档中一模一样的，这就造成校验sign出现错误。改正方式是：在yygh_manage的ApiServiceImpl类中将saveHospital()方法的paramMap.put(**\"sign\"**, HttpRequestHelper.*getSign*(paramMap, **this**.getSignKey()));

一行改成paramMap.put(**\"sign\"**, MD5.*encrypt*(**this**.getSignKey()));

欢迎交流：qq2450836033

ps:132这个哥们把内容放到页脚了，请后面的朋友注意。

# 134.p110 nuxt 路由跳转404

![](media/image193.png){width="6.3in" height="2.9821128608923884in"}

![](media/image194.png){width="4.03125in" height="5.53125in"}

![](media/image195.png){width="6.3in" height="3.07125in"}

死活找不到页面，难受

**135.p65 linux的nginx network error**

我用了linux nginx总是显示network error，有大家和我一样的问题吗
